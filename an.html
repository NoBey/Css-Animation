<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <script src="./node_modules/zepto/src/zepto.js" charset="utf-8"></script>
    <style>
        @keyframes mymove {
            from {
                left: 0px;
            }
            to {
                left: 200px;
            }
        }

        #animation {
            width: 100px;
            height: 100px;
            background: red;
            position: relative;
            /*animation:mymove 5s infinite;*/
            transition: all 0.1s ease;
        }

        #animation:hover {
            width: 300px;
            height: 300px
        }
    </style>
</head>

<body>
    <div id="animation">

    </div>
    <ul id='output'>

    </ul>
    <script type="text/javascript">
        var fx.op = {
            qureyback: []
        };

        function fx(elements, properties, time, speed, callback) {
            var cssTransition = {},
                wrapCallback;
            cssTransition['transition-duration'] = time / 1000 + 's';
            cssTransition['transition-timing-function'] = (ease || 'linear');

            wrapCallback = (e) => {
                console.log(e.targ)
                callback(e)
                return elements.unbind('transitionend', wrapCallback)
            }

            elements.on('transitionend', wrapCallback, false)
            elements.css(cssTransition).css(properties)
        }


        // var anim = $("#animation");
        //
        // anim.on("transitionend", function(e) {
        //     console.log(e)
        //     console.log('transitionend')
        // }, false);
    </script>
</body>

</html>
